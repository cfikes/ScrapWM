<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>App</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <link rel="stylesheet" href="assets/styles.css">
</head>
<body>
  <div id="app">
    <top-nav></top-nav>
    <div class="container">
      <sidebar :consoles="consoles" :selected-console="selectedConsole" @select-console="selectConsole"></sidebar>
      <game-grid :games="games[selectedConsole]"></game-grid>
    </div>
  </div>

  <!-- Load component scripts in the correct order -->
  <script src="components/GameItem.vue.js"></script>
  <script src="components/GameGrid.vue.js"></script>
  <script src="components/Sidebar.vue.js"></script>
  <script src="components/TopNav.vue.js"></script>

  <!-- Main App script -->
  <script>
    const { createApp } = Vue;

    createApp({
      components: {
        TopNav,
        Sidebar,
        GameGrid,
      },
      data() {
        return {
          consoles: [
            'Atari 2600', 'Atari 5200', 'Atari 7800', 'Atari Lynx', 'ColecoVision', 'Famicom Disk System',
            'Game Boy', 'Game Boy Advance', 'Game Gear', 'Intellivision', 'NeoGeo Pocket', 'Nintendo (NES)',
            'Nintendo 64', 'Nintendo DS', 'OdysseyÂ²', 'PC-FX', 'SG-1000', 'Sega 32X', 'Sega CD', 'Sega Genesis',
          ],
          selectedConsole: 'Nintendo (NES)',
          games: {
            'Nintendo (NES)': [
              { title: 'Castlevania', image: 'assets/img/boxart/nes/Castlevania (USA).png' },
              { title: 'Contra', image: 'assets/img/boxart/nes/Contra (USA).png' },
              { title: 'Kirby\'s Adventure', image: 'assets/img/boxart/nes/Kirby_s Adventure (USA).png' },
              { title: 'The Legend of Zelda', image: 'assets/img/boxart/nes/Legend of Zelda, The (USA).png' },
              { title: 'Metroid', image: 'assets/img/boxart/nes/Metroid (USA).png' },
              { title: 'Mike Tyson\'s Punch-Out!!', image: 'assets/img/boxart/nes/Mike Tyson_s Punch Out!! (USA).png' },
              { title: 'Super Mario Bros. 3', image: 'assets/img/boxart/nes/Super Mario Bros. 3 (USA).png' },
              { title: 'Zelda II', image: 'assets/img/boxart/nes/Zelda II - The Adventure of Link (USA).png' },
            ],
          },
        };
      },
      methods: {
        selectConsole(console) {
          this.selectedConsole = console;
        },
      }
    }).mount('#app');
  </script>
</body>
</html>
